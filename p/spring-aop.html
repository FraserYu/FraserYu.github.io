<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Spring AOP | æ—¥æ‹±ä¸€å…µï½œJavaï½œSpring Bootï½œJavaå¹¶å‘ç¼–ç¨‹ï½œæœ€æ–°å¹²è´§åˆ†äº«</title>
  
  <meta name="keywords" content="Java,SpringBoot,å¹¶å‘ç¼–ç¨‹, ElasticSearch, æ—¥æ‹±ä¸€å…µ">
  
  
  <meta name="description" content="æœ¬ç«™æ˜¯æ—¥æ‹±ä¸€å…µçš„æŠ€æœ¯åˆ†äº«åšå®¢ï¼Œå†…å®¹æ¶µç›–Javaåç«¯æŠ€æœ¯ã€Spring Bootã€Javaå¹¶å‘ç¼–ç¨‹ç­‰æŠ€æœ¯ç ”ç©¶ä¸åˆ†äº«ï¼Œç”¨æœ‰è¶£çš„æ–¹å¼è§£è¯»æŠ€æœ¯">
  

  
  <link rel="alternate" href="/atom.xml" title="æ—¥æ‹±ä¸€å…µï½œJavaï½œSpring Bootï½œJavaå¹¶å‘ç¼–ç¨‹ï½œæœ€æ–°å¹²è´§åˆ†äº«">
  

  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.10.1/css/all.min.css">
  

  
  <link rel="shortcut icon" type='image/x-icon' href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicon.ico">
  

  
    <link rel="stylesheet" href="/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147539283-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-147539283-1');
    </script>
  
  
    <!-- ba -->
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f553477a3dc5ab3837e9a4dead4e0bc7";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
  


  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-1774278264048334",
        enable_page_level_ads: true
      });
    </script>

    
        <script>
        (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
        daovoice('init', {
            app_id: "8a3d6849"
        });
        daovoice('update');
        </script>
    
</head>

<body>
  
  
  <div class="cover-wrapper">
    <cover class='cover post half'>
      
        
  <img class='logo' src='/assets/logo.png'/>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder="ä¸–ç•Œå¾ˆå¤§ï¼Œæœç´¢ä¸€ä¸‹" />
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class='menu navgation'>
  <ul class='h-list'>
    
      
        <li>
          <a class="nav home" href="/"
            
              rel="nofollow"
            
            
            id="home">
            <i class='fas fa-home fa-fw'></i>&nbsp;ä¸»é¡µ
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/categories/"
            
              rel="nofollow"
            
            
            id="categories">
            <i class='fas fa-folder-open fa-fw'></i>&nbsp;åˆ†ç±»
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/tags/"
            
              rel="nofollow"
            
            
            id="tags">
            <i class='fas fa-tags fa-fw'></i>&nbsp;æ ‡ç­¾
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/archives/"
            
              rel="nofollow"
            
            
            id="archives">
            <i class='fas fa-archive fa-fw'></i>&nbsp;å½’æ¡£
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/comments/"
            
              rel="nofollow"
            
            
            id="comments">
            <i class='fas fa-comments fa-fw'></i>&nbsp;ç•™è¨€æ¿
          </a>
        </li>
      
    
  </ul>
</div>

<br>
<div class="description center-align">
    
    <span id="typed"></span>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.9"></script>
    <script>
        var typed = new Typed("#typed", {
            strings: ['ä»æ¥æ²¡æœ‰çœŸæ­£çš„ç»å¢ƒ, åªæœ‰å¿ƒçµçš„è¿·é€”', 'Never really desperate, only the lost of the soul'],
            startDelay: 300,
            typeSpeed: 100,
            loop: true,
            backSpeed: 50,
            showCursor: true
        });
    </script>
    
</div>

      
    </cover>
    <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class='wrapper'>		
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/' >
        
          æ—¥æ‹±ä¸€å…µ
        
      </a>
		<div class='menu navgation'>
				<ul class='h-list'>
          
  					
  						<li>
								<a class="nav flat-box" href="/"
                  
                    rel="nofollow"
                  
                  
                  id="home">
									<i class='fas fa-home fa-fw'></i>&nbsp;ä¸»é¡µ
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/categories/"
                  
                    rel="nofollow"
                  
                  
                  id="categories">
									<i class='fas fa-folder-open fa-fw'></i>&nbsp;åˆ†ç±»
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/tags/"
                  
                    rel="nofollow"
                  
                  
                  id="tags">
									<i class='fas fa-tags fa-fw'></i>&nbsp;æ ‡ç­¾
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/archives/"
                  
                    rel="nofollow"
                  
                  
                  id="archives">
									<i class='fas fa-archive fa-fw'></i>&nbsp;å½’æ¡£
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/friends/"
                  
                    rel="nofollow"
                  
                  
                  id="friends">
									<i class='fas fa-link fa-fw'></i>&nbsp;å‹é“¾
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/comments/"
                  
                    rel="nofollow"
                  
                  
                  id="comments">
									<i class='fas fa-comments fa-fw'></i>&nbsp;ç•™è¨€æ¿
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="æœç´¢" />
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)'></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>
		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)'></a></li>
        
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)'></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/"
                
                  rel="nofollow"
                
                
                id="home">
								<i class='fas fa-clock fa-fw'></i>&nbsp;è¿‘æœŸæ–‡ç« 
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/categories/"
                
                  rel="nofollow"
                
                
                id="categories">
								<i class='fas fa-folder-open fa-fw'></i>&nbsp;åˆ†ç±»
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/tags/"
                
                  rel="nofollow"
                
                
                id="tags">
								<i class='fas fa-tags fa-fw'></i>&nbsp;æ ‡ç­¾
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/archives/"
                
                  rel="nofollow"
                
                
                id="archives">
								<i class='fas fa-archive fa-fw'></i>&nbsp;å½’æ¡£
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/friends/"
                
                  rel="nofollow"
                
                
                id="friends">
								<i class='fas fa-link fa-fw'></i>&nbsp;å‹é“¾
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/comments/"
                
                  rel="nofollow"
                
                
                id="comments">
								<i class='fas fa-comments fa-fw'></i>&nbsp;ç•™è¨€æ¿
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      <div class='l_main'>
  

  <article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost">
    


  <section class='meta'>
    
    
    <div class="meta" id="header-meta">
      
        
  
    <h1 class="title">
      <a href="/p/spring-aop.html">
        Spring AOP
      </a>
    </h1>
  


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    
      <a href="https://dayarch.top" rel="nofollow">
        
          <img src="https://cdn.jsdelivr.net/gh/FraserYu/img-host/blog-imgavatar.png">
        
        <p>tanÎ¸</p>
      </a>
    
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2017-02-23</p>
  </a>
</div>

          
        
          
            
  
  <div class='new-meta-item category'>
    <a href='/categories/Coding/Spring/' rel="nofollow">
      <i class="fas fa-folder-open" aria-hidden="true"></i>
      <p>Coding&nbsp;/&nbsp;Spring</p>
    </a>
  </div>


          
        
          
            
  
    <div class="new-meta-item browse busuanzi">
      <a class='notlink'>
        <i class="fas fa-eye" aria-hidden="true"></i>
        <p>
          <span id="busuanzi_value_page_pv">
            <i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i>
          </span>
        </p>
      </a>
    </div>
  


          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


    <section class="article typo">
      <div class="article-entry" itemprop="articleBody">
        <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>Spring AOP çš„é“ç†æ‡‚å¾—ï¼Œä½†æ˜¯å¾ˆå°‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåˆšå·§è¿™ä¸ªé¡¹ç›®ä¸­æœ‰ç”¨åˆ°ï¼Œå°†AOPçš„ç†è§£ä»¥åŠä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠ ä»¥æ€»ç»“è®°å½•</p>
<h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><p>è®¾æƒ³ä¸€ä¸‹ï¼Œé¡¹ç›®å·²æ¥è¿‘å°¾å£°ï¼Œç»ç†è¯´ä¸ºäº†é¡¹ç›®éªŒæ”¶ï¼Œæ›´å¥½çš„ç›‘æ§ç¨‹åºè°ƒç”¨æ—¥å¿—ï¼Œéœ€è¦åœ¨æ¯ä¸ªæ–¹æ³•è°ƒç”¨å‰æˆ–è°ƒç”¨ååŠ ä¸Šæ—¥å¿—ï¼Œå¤©å•Šï¼Œè¿™æ˜¯å¤šå¤§çš„å·¥ä½œé‡ï¼Œé¡¹ç›®ä¸­è‡³å°‘æœ‰å‡ ç™¾ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬è¦åšè¿™ç§æ— è„‘çš„å·¥ä½œäº†å—ï¼Ÿ å¦‚æœä¸æ‡‚å¾—Spring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„é“ç†ï¼Œé‚£è¿™ä¸ªä½“åŠ›æ´»çœ‹æ¥æ˜¯è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ…¢æ…¢å‰–æSpring AOP çš„é“ç†.</p>
<h3 id="Java-åŠ¨æ€ä»£ç†"><a href="#Java-åŠ¨æ€ä»£ç†" class="headerlink" title="Java åŠ¨æ€ä»£ç†"></a>Java åŠ¨æ€ä»£ç†</h3><p>Java23ä¸­è®¾è®¡æ¨¡å¼ä¹‹ä¸€ä»£ç†æ¨¡å¼ï¼ŒSpring AOPå……åˆ†åˆ©ç”¨äº†Java åŠ¨æ€ä»£ç†åŠŸèƒ½æ¥å®ç°ï¼ˆå¯¹åŠ¨æ€ä»£ç†æœ‰æ‰€ç†è§£çš„å¯ä»¥è·³è¿‡è¯¥æ®µå†…å®¹ï¼‰ï¼Œå³ä¾¿æ²¡æœ‰Spring AOP æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿé€šè¿‡Java  åŠ¨æ€ä»£ç†è§£å†³ä¸Šè¿°é—®é¢˜.  åœ¨Java åŠ¨æ€ä»£ç†ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ¥å£æˆ–ç±»ï¼š</p>
<blockquote>
<ol>
<li><strong>InvocationHandler</strong> ï¼ˆInterfaceï¼‰</li>
<li><strong>Proxy</strong> ï¼ˆClassï¼‰</li>
</ol>
</blockquote>
<a id="more"></a>

<p>è¿™ä¸€ä¸ªæ¥å£å’Œç±»æ˜¯å®ç°æˆ‘ä»¬åŠ¨æ€ä»£ç†æ‰€å¿…é¡»ç”¨åˆ°çš„ï¼Œå…¶å®è¿™ç§è®¾è®¡æ¨¡å¼å¯ä»¥è”æƒ³åˆ°æˆ‘ä»¬ç°å®ç”Ÿæ´»ä¸­çš„ä»£è´­æˆ–ä»£ç†å•†:<br><img src="http://7xkyc7.com1.z0.glb.clouddn.com/Spring_springaop.png" alt="enter image description here"></p>
<p>è¿™æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆå¥½åƒå’Œæˆ‘ä»¬è¯´çš„é¡¹ç›®ä¸­éœ€è¦ä¸æ²¾è¾¹é™…ï¼Œé¡¹ç›®å¿«è¦ç»“æŸäº†ï¼Œæ»¡é¡¹ç›®é‹å­å’Œè¡£æœæ–¹æ³•å·²ç»å†™å¥½ï¼Œçªç„¶é¡¹ç›®ç»ç†è¯´è¦ç»™é‹å­å’Œè¡£æœåŠ ä¸ŠåŒ…è£…ï¼ˆæ—¥å¿—ï¼‰ï¼Œåˆšå¥½ä»£ç†å•†å¯ä»¥è½»æ¾åšåˆ°è¿™ä¸ªï¼Œæ¯æ¬¡å®¢æˆ·è°ƒç”¨é‹å­å’Œè¡£æœæ–¹æ³•æ—¶ï¼Œåªéœ€è¦è°ƒç”¨ä»£ç†å•†æš´éœ²å‡ºæ¥çš„é‹å­å’Œæ–¹æ³•å³å¯, è¿˜æ²¡æ‡‚ï¼Ÿ æ²¡å…³ç³»ï¼Œç¨‹åºçŒ¿çœ‹ä»£ç è¿˜æ˜¯æœ€å®é™…çš„.</p>
<h4 id="InvocationHandler"><a href="#InvocationHandler" class="headerlink" title="InvocationHandler"></a>InvocationHandler</h4><p>çœ‹ä¸€ä¸‹å®˜æ–¹å®šä¹‰ï¼š</p>
<blockquote>
<p><em>InvocationHandler is the interface implemented by the invocation handler of a proxy instance. Each proxy instance has an associated invocation handler. When a method is invoked on a proxy instance, the method invocation is encoded and dispatched to the invoke method of its invocation handler.</em> â€”â€” InvocationHandler æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒè¢«ä¸€ä¸ªä»£ç†ç±»å®ä¾‹çš„handleræ‰€å®ç°ï¼Œæ¯ä¸€ä¸ªä»£ç†ç±»å®ä¾‹éƒ½æœ‰å…¶å¯¹åº”çš„handler, å½“ä¸€ä¸ªä»£ç†å®ä¾‹çš„æ–¹æ³•è¢«è°ƒç”¨ï¼Œæ–¹æ³•çš„è°ƒç”¨å°±äº¤ç»™äº†å®ƒå¯¹åº”çš„handleræ¥å¤„ç†</p>
</blockquote>
<p>InvocationHandler æ¥å£åªå®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<pre><code>Object invoke(Object proxy, Method method, Object[] args) throws Throwable;</code></pre><ol>
<li>proxy : ä»£ç†ç±»å¯¹è±¡</li>
<li>method : æˆ‘ä»¬è°ƒç”¨çœŸå®å¯¹è±¡çš„æŸä¸ªæ–¹æ³•</li>
<li>args : æˆ‘ä»¬è°ƒç”¨çœŸæ˜¯å¯¹è±¡çš„æŸä¸ªæ–¹æ³•æ¥å—çš„å‚æ•°</li>
</ol>
<h4 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h4><p>çœ‹ä¸€ä¸‹å®˜æ–¹å®šä¹‰ï¼š</p>
<blockquote>
<p>Proxy provides static methods for creating dynamic proxy classes and instances, and it is also the superclass of all dynamic proxy classes created by those methods.  â€”â€” Proxyæä¾›ä¸€ä¸ªé™æ€æ–¹æ³•ç”¨æ¥åˆ›å»ºåŠ¨æ€ä»£ç†ç±»å®ä¾‹ï¼Œå¹¶ä¸”æ˜¯æ‰€æœ‰ä»£ç†ç±»çš„çˆ¶ç±»</p>
</blockquote>
<p>Proxy ç±»ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼š</p>
<pre><code>/**
*Returns an instance of a proxy class for the specified interfaces that dispatches method invocations to the specified invocation handler
*/

public static Object newProxyInstance(ClassLoader loader, Class[] interfaces, InvocationHandler h) {
    try {
        Class e = getProxyClass(loader, interfaces);
        return e.getConstructor(new Class[]{InvocationHandler.class}).newInstance(new Object[]{h});
    } catch (RuntimeException var4) {
        throw var4;
    } catch (Exception var5) {
        throw new CodeGenerationException(var5);
    }
}</code></pre><ol>
<li>loader :  ä¸€ä¸ªClassLoaderå¯¹è±¡ï¼Œå®šä¹‰äº†ç”±å“ªä¸ªClassLoaderå¯¹è±¡æ¥å¯¹ç”Ÿæˆçš„ä»£ç†å¯¹è±¡è¿›è¡ŒåŠ è½½</li>
<li>interfaces : ä¸€ä¸ªInterfaceå¯¹è±¡çš„æ•°ç»„ï¼Œè¡¨ç¤ºçš„æ˜¯æˆ‘å°†è¦ç»™æˆ‘éœ€è¦ä»£ç†çš„å¯¹è±¡æä¾›ä¸€ç»„ä»€ä¹ˆæ¥å£ï¼Œå¦‚æœæˆ‘æä¾›äº†ä¸€ç»„æ¥å£ç»™å®ƒï¼Œé‚£ä¹ˆè¿™ä¸ªä»£ç†å¯¹è±¡å°±å®£ç§°å®ç°äº†è¯¥æ¥å£(å¤šæ€)ï¼Œè¿™æ ·æˆ‘å°±èƒ½è°ƒç”¨è¿™ç»„æ¥å£ä¸­çš„æ–¹æ³•äº†</li>
<li>h : ä¸€ä¸ªInvocationHandlerå¯¹è±¡ï¼Œè¡¨ç¤ºçš„æ˜¯å½“æˆ‘è¿™ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šå…³è”åˆ°å“ªä¸€ä¸ªInvocationHandlerå¯¹è±¡ä¸Š</li>
</ol>
<h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><h4 id="å®šä¹‰Subject-æ¥å£ï¼š"><a href="#å®šä¹‰Subject-æ¥å£ï¼š" class="headerlink" title="å®šä¹‰Subject æ¥å£ï¼š"></a>å®šä¹‰Subject æ¥å£ï¼š</h4><pre><code>public interface Subject
{
    public void shoes();

    public void clothes(String str);
}</code></pre><h4 id="å®šä¹‰æ¥å£çœŸå®å®ç°ç±»"><a href="#å®šä¹‰æ¥å£çœŸå®å®ç°ç±»" class="headerlink" title="å®šä¹‰æ¥å£çœŸå®å®ç°ç±»"></a>å®šä¹‰æ¥å£çœŸå®å®ç°ç±»</h4><pre><code>public class RealSubject implements Subject
{
    @Override
    public void shoes()
    {
        System.out.println(&quot;This is shoes method without packaging&quot;);
    }

    @Override
    public void clothes(String str)
    {
        System.out.println(&quot;hello: &quot; + str);
    }
}</code></pre><h4 id="å®šä¹‰åŠ¨æ€ä»£ç†ç±»ï¼Œå¹¶å®ç°InvocationHandler-æ¥å£"><a href="#å®šä¹‰åŠ¨æ€ä»£ç†ç±»ï¼Œå¹¶å®ç°InvocationHandler-æ¥å£" class="headerlink" title="å®šä¹‰åŠ¨æ€ä»£ç†ç±»ï¼Œå¹¶å®ç°InvocationHandler æ¥å£"></a>å®šä¹‰åŠ¨æ€ä»£ç†ç±»ï¼Œå¹¶å®ç°InvocationHandler æ¥å£</h4><pre><code>public class DynamicProxy implements InvocationHandler
{
    //è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦ä»£ç†çš„çœŸå®å¯¹è±¡
    private Object subject;

    //æ„é€ æ–¹æ³•ï¼Œç»™æˆ‘ä»¬è¦ä»£ç†çš„çœŸå®å¯¹è±¡èµ‹åˆå€¼
    public DynamicProxy(Object subject)
    {
        this.subject = subject;
    }

    @Override
    public Object invoke(Object object, Method method, Object[] args)
            throws Throwable
    {
        //åœ¨ä»£ç†çœŸå®å¯¹è±¡å‰æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€äº›è‡ªå·±çš„æ“ä½œï¼Œæ¯”å¦‚ç»™é‹å­å’Œè¡£æœåšåŒ…è£…
        System.out.println(&quot;before packaging&quot;);

        System.out.println(&quot;Method:&quot; + method);

        //å½“ä»£ç†å¯¹è±¡è°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå…¶ä¼šè‡ªåŠ¨çš„è·³è½¬åˆ°ä»£ç†å¯¹è±¡å…³è”çš„handlerå¯¹è±¡çš„invokeæ–¹æ³•æ¥è¿›è¡Œè°ƒç”¨
        method.invoke(subject, args);

        //åœ¨ä»£ç†çœŸå®å¯¹è±¡åæˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ ä¸€äº›è‡ªå·±çš„æ“ä½œï¼ŒåŠ å®ŒåŒ…è£…ä¹‹åçš„ä¸€äº›å”®åæœåŠ¡
        System.out.println(&quot;after packaging&quot;);

        return null;
    }

}</code></pre><h4 id="çœ‹çœ‹å®¢æˆ·ç«¯ç±»çš„å®šä¹‰"><a href="#çœ‹çœ‹å®¢æˆ·ç«¯ç±»çš„å®šä¹‰" class="headerlink" title="çœ‹çœ‹å®¢æˆ·ç«¯ç±»çš„å®šä¹‰"></a>çœ‹çœ‹å®¢æˆ·ç«¯ç±»çš„å®šä¹‰</h4><pre><code>public class Client
{
    public static void main(String[] args)
    {
        //æˆ‘ä»¬è¦ä»£ç†çš„çœŸå®å¯¹è±¡
        Subject realSubject = new RealSubject();

        //æˆ‘ä»¬è¦ä»£ç†å“ªä¸ªçœŸå®å¯¹è±¡ï¼Œå°±å°†è¯¥å¯¹è±¡ä¼ è¿›å»ï¼Œæœ€åæ˜¯é€šè¿‡è¯¥çœŸå®å¯¹è±¡æ¥è°ƒç”¨å…¶æ–¹æ³•çš„
        InvocationHandler handler = new DynamicProxy(realSubject);

        /*
         * é€šè¿‡Proxyçš„newProxyInstanceæ–¹æ³•æ¥åˆ›å»ºæˆ‘ä»¬çš„ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…¶ä¸‰ä¸ªå‚æ•°
         * ç¬¬ä¸€ä¸ªå‚æ•° handler.getClass().getClassLoader() ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨handlerè¿™ä¸ªç±»çš„ClassLoaderå¯¹è±¡æ¥åŠ è½½æˆ‘ä»¬çš„ä»£ç†å¯¹è±¡
         * ç¬¬äºŒä¸ªå‚æ•°realSubject.getClass().getInterfaces()ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ºä»£ç†å¯¹è±¡æä¾›çš„æ¥å£æ˜¯çœŸå®å¯¹è±¡æ‰€å®è¡Œçš„æ¥å£ï¼Œè¡¨ç¤ºæˆ‘è¦ä»£ç†çš„æ˜¯è¯¥çœŸå®å¯¹è±¡ï¼Œè¿™æ ·æˆ‘å°±èƒ½è°ƒç”¨è¿™ç»„æ¥å£ä¸­çš„æ–¹æ³•äº†
         * ç¬¬ä¸‰ä¸ªå‚æ•°handlerï¼Œ æˆ‘ä»¬è¿™é‡Œå°†è¿™ä¸ªä»£ç†å¯¹è±¡å…³è”åˆ°äº†ä¸Šæ–¹çš„ InvocationHandler è¿™ä¸ªå¯¹è±¡ä¸Š
         */
        Subject subject = (Subject)Proxy.newProxyInstance(handler.getClass().getClassLoader(), realSubject
                .getClass().getInterfaces(), handler);

        System.out.println(subject.getClass().getName());
        subject.shoes();
        subject.clothes(&quot;clothes, it&apos;s without packaging&quot;);
    }
}</code></pre><h4 id="æ§åˆ¶å°çš„è¾“å‡ºç»“æœ"><a href="#æ§åˆ¶å°çš„è¾“å‡ºç»“æœ" class="headerlink" title="æ§åˆ¶å°çš„è¾“å‡ºç»“æœ"></a>æ§åˆ¶å°çš„è¾“å‡ºç»“æœ</h4><pre><code>$Proxy0

before packaging
Method:public abstract void com.xiaoluo.dynamicproxy.Subject.shoes()
This is shoes method without packaging
after packaging

before packaging
Method:public abstract void com.xiaoluo.dynamicproxy.Subject.clothes(java.lang.String)
hello: clothes, it&apos;s without packaging
after packaging</code></pre><p>Proxy.newProxyInstance ç”Ÿæˆä»£ç†å¯¹è±¡æ—¶æ‰€éœ€è¦çš„invocationHandler å‚æ•°æ›´åƒæ˜¯ä»£ç†å•†å’Œä¾›åº”å•†ä¹‹é—´çš„ç‰©æµï¼Œå½“ä»£ç†å•†éœ€è¦ä¾›åº”å•†çš„é‹å­æ—¶å€™ï¼Œéœ€è¦å‘Šè¯‰è¿™ä¸ªç‰©æµå»å–é‹å­.  ä¸€ä¸ªä»£ç†å•†å½“ç„¶ä¹Ÿä»£ç†å¤šä¸ªå“ç‰Œï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‚æ•°ä¸­interfaces æ˜¯æ•°ç»„å½¢å¼ï¼Œè‡³æ­¤å…³äºJava åŠ¨æ€ä»£ç†å°±å‘Šä¸€æ®µè½äº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹Spring AOP , é“ç†éƒ½æ˜¯ç›¸é€šçš„.</p>
<h3 id="Spring-AOP"><a href="#Spring-AOP" class="headerlink" title="Spring AOP"></a>Spring AOP</h3><h4 id="æœ¯è¯­è§£é‡Š"><a href="#æœ¯è¯­è§£é‡Š" class="headerlink" title="æœ¯è¯­è§£é‡Š"></a>æœ¯è¯­è§£é‡Š</h4><table>
<thead>
<tr>
<th align="left">æœ¯è¯­åç§°</th>
<th align="left">å¯¹åº”è§£é‡Š</th>
<th align="left">å®˜æ–¹æœ¯è¯­æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Aspect</td>
<td align="left">å®ƒæ˜¯ä¸€ä¸ªåŒ…å«ä¸€ç³»åˆ—APIçš„æ¨¡å—ï¼ŒåŒæ—¶æä¾›æ¨ªåˆ‡çš„éœ€æ±‚ï¼Œæ¯”å¦‚æ—¥å¿—è®°å½•.</td>
<td align="left">A module which has a set of APIs providing cross-cutting requirements. For example, a logging module would be called AOP aspect for logging. An application can have any number of aspects depending on the requirement.</td>
</tr>
<tr>
<td align="left">Join point</td>
<td align="left">åº”ç”¨ç¨‹åºçœŸæ­£ä¼šå‘ç”Ÿé€šçŸ¥è¡Œä¸ºçš„ä¸€ä¸ªç‚¹</td>
<td align="left">This represents a point in your application where you can plug-in AOP aspect. You can also say, it is the actual place in the application where an action will be taken using Spring AOP framework.</td>
</tr>
<tr>
<td align="left">Advice</td>
<td align="left">å¯ä»¥ç†è§£ä¸ºé€šçŸ¥ï¼Œåœ¨ç›®æ ‡ç¨‹åºæ‰§è¡Œå‰é€šçŸ¥è¿˜æ˜¯æ‰§è¡Œåé€šçŸ¥</td>
<td align="left">This is the actual action to be taken either before or after the method execution. This is actual piece of code that is invoked during program execution by Spring AOP framework.</td>
</tr>
<tr>
<td align="left">Pointcut</td>
<td align="left">Join Pointçš„é›†åˆï¼Œç¨‹åºä¸­æ‰€æœ‰æƒ³åˆ‡å…¥çš„ç‚¹çš„é›†åˆ</td>
<td align="left">This is a set of one or more joinpoints where an advice should be executed. You can specify pointcuts using expressions or patterns as we will see in our AOP examples.</td>
</tr>
</tbody></table>
<h4 id="Advice-é€šçŸ¥"><a href="#Advice-é€šçŸ¥" class="headerlink" title="Advice é€šçŸ¥"></a>Advice é€šçŸ¥</h4><table>
<thead>
<tr>
<th align="left">æœ¯è¯­åç§°</th>
<th align="left">å¯¹åº”è§£é‡Š</th>
<th align="left">å®˜æ–¹æœ¯è¯­æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">before</td>
<td align="left">åœ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ä¹‹å‰é€šçŸ¥</td>
<td align="left">Run advice before the a method execution</td>
</tr>
<tr>
<td align="left">after</td>
<td align="left">åœ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ä¹‹åé€šçŸ¥ï¼Œä¸ç®¡ç›®æ ‡æ–¹æ³•æ˜¯å¦æ‰§è¡ŒæˆåŠŸ</td>
<td align="left">Run advice after the a method execution regardless of its outcome.</td>
</tr>
<tr>
<td align="left">after-returning</td>
<td align="left">å½“ç›®æ ‡æ–¹æ³•æˆåŠŸæ‰§è¡Œæ²¡æœ‰ä»»ä½•å¼‚å¸¸ä¹‹å</td>
<td align="left">Run advice after the a method execution only if method completes successfully</td>
</tr>
<tr>
<td align="left">after-throwing</td>
<td align="left">after æˆ– after-returning è¿è¡Œä¹‹åæ•è·å¼‚å¸¸</td>
<td align="left">Run advice after the a method execution only if method exits by throwing an exception.</td>
</tr>
<tr>
<td align="left">around</td>
<td align="left">è¿è¡Œç›®æ ‡æ–¹æ³•å‰åç¯ç»•</td>
<td align="left">Run advice before and after the advised method is invoked</td>
</tr>
</tbody></table>
<pre><code>try{
   //å‰ç½®é€šçŸ¥
        //ç¯ç»•é€šçŸ¥
           //è°ƒç”¨ç›®æ ‡å¯¹è±¡æ–¹æ³•
        //ç¯ç»•é€šçŸ¥
   //åç½®é€šçŸ¥
 }catch(){
   //å¼‚å¸¸é€šçŸ¥
 }finally{
   //ç»ˆæ­¢é€šçŸ¥
 }</code></pre><h4 id="Spring-XMLé…ç½®"><a href="#Spring-XMLé…ç½®" class="headerlink" title="Spring XMLé…ç½®"></a>Spring XMLé…ç½®</h4><pre><code>&lt;context:annotation-config/&gt;
    &lt;aop:config proxy-target-class=&quot;true&quot; expose-proxy=&quot;true&quot;&gt;
        &lt;aop:aspect ref=&quot;capitalModification&quot;&gt;
            &lt;aop:pointcut id=&quot;handleOrder&quot; expression=&quot;execution(* com.honor.facades.app.order.HonorOrderFacade.handleCapital(..))
                || execution(* com.honor.facades.serviceOrder.HonorServiceOrderFacade.handleCapital(..))
                || execution(* com.honor.facades.aftersales.HonorReturnFormFacades.handleCapital(..))&quot;/&gt;
            &lt;aop:after method=&quot;capitalAndRecordModification&quot;  pointcut-ref=&quot;handleOrder&quot;/&gt;
            &lt;aop:after-throwing throwing=&quot;ex&quot; method=&quot;capitalAndRecordModificationExceptionHandle&quot;  pointcut-ref=&quot;handleOrder&quot;/&gt;
        &lt;/aop:aspect&gt;
    &lt;/aop:config&gt;

&lt;bean id=&quot;capitalModification&quot; class=&quot;com.honor.core.customerCapital.impl.DefaultCapitalModificationStrategy&quot;&gt;
        &lt;property name=&quot;customerCapitalService&quot; ref=&quot;customerCapitalService&quot;/&gt;
        &lt;property name=&quot;honorSuperOrderService&quot; ref=&quot;honorSuperOrderService&quot;/&gt;
        &lt;property name=&quot;honorBillService&quot; ref=&quot;honorBillService&quot;/&gt;
    &lt;/bean&gt;</code></pre><p>å¤šä¸ªpointcut å¯ä»¥ç”¨ || æˆ– or æ¥å®ç°.</p>
<h3 id="é¡¹ç›®ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜"><a href="#é¡¹ç›®ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é¡¹ç›®ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜"></a>é¡¹ç›®ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜</h3><p>å…³äºAOPæ— æ³•åˆ‡å…¥åŒç±»è°ƒç”¨æ–¹æ³•çš„é—®é¢˜<br>Controller å±‚æ–¹æ³•Aè°ƒç”¨äº†Facadeå±‚æ–¹æ³•Bï¼Œå¯æ˜¯Bå†…è°ƒç”¨äº†æ–¹æ³•C, æˆ‘ä»¬æƒ³ä½¿ç”¨AOPç»‡å…¥æ–¹æ³•C, å½“ç¨‹åºè¿è¡Œåï¼Œ å§‹ç»ˆæ‰¾ä¸åˆ°ä»£ç†æ–¹æ³•ï¼Œæ„å‘³ç€ç»‡å…¥Cæ²¡æœ‰æˆåŠŸ,</p>
<pre><code>public class MyController{

    public void methodA(){
        myFacade.methodB();
    }
}

public class MyController{

    public void methodB(){
        myFacade.methodC();
    }

    public void methodC(){
        System.out.println(&quot;bingo&quot;);
    }
}

public class Aspect {  

     @AfterReturning(execution(* Facade.methodB(..)))  
     public void after() {  
         Logger.info(after call and do something);  
    }  
}  </code></pre><p>æˆ‘ä»¬å‘ç°åœ¨ AopContext.class ä¸­ï¼š</p>
<pre><code>public static Object currentProxy() throws IllegalStateException {
        Object proxy = currentProxy.get();
        if(proxy == null) {
            throw new IllegalStateException(&quot;Cannot find current proxy: Set \&apos;exposeProxy\&apos; property on Advised to \&apos;true\&apos; to make it available.&quot;);
        } else {
            return proxy;
        }
    }</code></pre><p>è§£å†³åŠæ³•ï¼š</p>
<ol>
<li><p>è®¾ç½®proxy-target-class=â€trueâ€expose-proxy=â€trueâ€</p>
<pre><code>&lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot;expose-proxy=&quot;true&quot;/&gt;  </code></pre></li>
<li><p>æ‰‹åŠ¨æŒ‡å®šä»£ç†è°ƒç”¨æ–¹æ³•</p>
<pre><code>((Facade) AopContext.currentProxy()).methodB();  </code></pre></li>
</ol>
<h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p>éå¸¸æ„Ÿè°¢ä»¥ä¸‹å‡ ä½åšä¸»ï¼Œåœ¨ä½ ä»¬è®¤çœŸçš„åšå®¢ä¸Šå­¦åˆ°äº†è®¸å¤š.</p>
<ol>
<li><a href="http://blog.csdn.net/lirui0822/article/details/8555691" target="_blank" rel="noopener">http://blog.csdn.net/lirui0822/article/details/8555691</a></li>
<li><a href="http://www.cnblogs.com/xiaoluo501395377/p/3383130.html" target="_blank" rel="noopener">http://www.cnblogs.com/xiaoluo501395377/p/3383130.html</a></li>
</ol>
<p>åŒæ—¶ä¿®æ”¹AOPå‡½æ•°è¿”å›å€¼åŠè·å–å‡½æ•°å‚æ•°è¯·å‚è€ƒä»¥ä¸‹æ–‡ç« ï¼š</p>
<ol>
<li><a href="http://blog.csdn.net/cleverutd/article/details/8607491" target="_blank" rel="noopener">http://blog.csdn.net/cleverutd/article/details/8607491</a></li>
<li><a href="https://my.oschina.net/itblog/blog/211693" target="_blank" rel="noopener">https://my.oschina.net/itblog/blog/211693</a></li>
</ol>

      </div>
      <!-- <div class="tuijian">
        <br><br>
        ğŸ“šç›¸å…³æ–‡ç« 
        <ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/p/springmvc-response-status.html" title="Spring MVC ä¹‹ @ResponseStatus" rel="bookmark">Spring MVC ä¹‹ @ResponseStatus</a></h3></div></li></ul>
      </div> -->
      <div class="personalweixin">
        <br><br>
        <blockquote>
          <a href="https://mp.weixin.qq.com/s/G7BXuZh0Qh1-mE6ts4LJqQ" target="_blank" rel="noopener">åŠ æˆ‘å¾®ä¿¡</a>ï¼Œå’±ä»¬äº¤æµæŠ€æœ¯ä¸æ€æƒ³ï¼Œå…±åŒæˆé•¿
        </blockquote>
        <br>

      </div>
      
      
        <br>
        


  <section class='meta' id="footer-meta">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2019-11-01T16:52:53+08:00">
  <a class='notlink'>
    <i class="fas fa-clock" aria-hidden="true"></i>
    <p>æ›´æ–°äº 2019å¹´11æœˆ1æ—¥</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Spring/" rel="nofollow"><i class="fas fa-tag" aria-hidden="true"></i><p>Spring</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/AOP/" rel="nofollow"><i class="fas fa-tag" aria-hidden="true"></i><p>AOP</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="QQå¥½å‹" rel="external nofollow noopener noreferrer"
          
          href="http://connect.qq.com/widget/shareqq/index.html?url=https://dayarch.top/p/spring-aop.html&title=Spring AOP | æ—¥æ‹±ä¸€å…µï½œJavaï½œSpring Bootï½œJavaå¹¶å‘ç¼–ç¨‹ï½œæœ€æ–°å¹²è´§åˆ†äº«&pics=https://cdn.jsdelivr.net/gh/FraserYu/img-host/blog-imgavatar.png&summary=å‰è¨€
Spring AOP çš„é“ç†æ‡‚å¾—ï¼Œä½†æ˜¯å¾ˆå°‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåˆšå·§è¿™ä¸ªé¡¹ç›®ä¸­æœ‰ç”¨åˆ°ï¼Œå°†AOPçš„ç†è§£ä»¥åŠä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠ ä»¥æ€»ç»“è®°å½•

ä½¿ç”¨åœºæ™¯
è®¾æƒ³ä¸€ä¸‹ï¼Œé¡¹ç›®å·²æ¥è¿‘å°¾å£°ï¼Œç»ç†è¯´ä¸ºäº†é¡¹ç›®éªŒæ”¶ï¼Œæ›´å¥½çš„ç›‘æ§ç¨‹åºè°ƒç”¨æ—¥å¿—ï¼Œéœ€è¦åœ¨æ¯ä¸ªæ–¹æ³•è°ƒç”¨å‰æˆ–è°ƒç”¨ååŠ ä¸Šæ—¥å¿—ï¼Œå¤©å•Šï¼Œè¿™æ˜¯å¤šå¤§çš„å·¥ä½œé‡ï¼Œé¡¹ç›®ä¸­è‡³å°‘æœ‰å‡ ç™¾ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬è¦åšè¿™ç§æ— è„‘çš„å·¥ä½œäº†å—ï¼Ÿ å¦‚æœä¸æ‡‚å¾—Spring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„é“ç†ï¼Œé‚£è¿™ä¸ªä½“åŠ›æ´»çœ‹æ¥æ˜¯è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ…¢æ…¢å‰–æSpring AOP çš„é“ç†.

Java åŠ¨æ€ä»£ç†
Java23ä¸­è®¾è®¡æ¨¡å¼ä¹‹ä¸€ä»£ç†æ¨¡å¼ï¼ŒSpring AOPå……åˆ†åˆ©ç”¨äº†Java åŠ¨æ€ä»£ç†åŠŸèƒ½æ¥å®ç°ï¼ˆå¯¹åŠ¨æ€ä»£ç†æœ‰æ‰€"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="QQç©ºé—´" rel="external nofollow noopener noreferrer"
          
          href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://dayarch.top/p/spring-aop.html&title=Spring AOP | æ—¥æ‹±ä¸€å…µï½œJavaï½œSpring Bootï½œJavaå¹¶å‘ç¼–ç¨‹ï½œæœ€æ–°å¹²è´§åˆ†äº«&pics=https://cdn.jsdelivr.net/gh/FraserYu/img-host/blog-imgavatar.png&summary=å‰è¨€
Spring AOP çš„é“ç†æ‡‚å¾—ï¼Œä½†æ˜¯å¾ˆå°‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåˆšå·§è¿™ä¸ªé¡¹ç›®ä¸­æœ‰ç”¨åˆ°ï¼Œå°†AOPçš„ç†è§£ä»¥åŠä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠ ä»¥æ€»ç»“è®°å½•

ä½¿ç”¨åœºæ™¯
è®¾æƒ³ä¸€ä¸‹ï¼Œé¡¹ç›®å·²æ¥è¿‘å°¾å£°ï¼Œç»ç†è¯´ä¸ºäº†é¡¹ç›®éªŒæ”¶ï¼Œæ›´å¥½çš„ç›‘æ§ç¨‹åºè°ƒç”¨æ—¥å¿—ï¼Œéœ€è¦åœ¨æ¯ä¸ªæ–¹æ³•è°ƒç”¨å‰æˆ–è°ƒç”¨ååŠ ä¸Šæ—¥å¿—ï¼Œå¤©å•Šï¼Œè¿™æ˜¯å¤šå¤§çš„å·¥ä½œé‡ï¼Œé¡¹ç›®ä¸­è‡³å°‘æœ‰å‡ ç™¾ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬è¦åšè¿™ç§æ— è„‘çš„å·¥ä½œäº†å—ï¼Ÿ å¦‚æœä¸æ‡‚å¾—Spring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„é“ç†ï¼Œé‚£è¿™ä¸ªä½“åŠ›æ´»çœ‹æ¥æ˜¯è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ…¢æ…¢å‰–æSpring AOP çš„é“ç†.

Java åŠ¨æ€ä»£ç†
Java23ä¸­è®¾è®¡æ¨¡å¼ä¹‹ä¸€ä»£ç†æ¨¡å¼ï¼ŒSpring AOPå……åˆ†åˆ©ç”¨äº†Java åŠ¨æ€ä»£ç†åŠŸèƒ½æ¥å®ç°ï¼ˆå¯¹åŠ¨æ€ä»£ç†æœ‰æ‰€"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="å¾®åš" rel="external nofollow noopener noreferrer"
          
          href="http://service.weibo.com/share/share.php?url=https://dayarch.top/p/spring-aop.html&title=Spring AOP | æ—¥æ‹±ä¸€å…µï½œJavaï½œSpring Bootï½œJavaå¹¶å‘ç¼–ç¨‹ï½œæœ€æ–°å¹²è´§åˆ†äº«&pics=https://cdn.jsdelivr.net/gh/FraserYu/img-host/blog-imgavatar.png&summary=å‰è¨€
Spring AOP çš„é“ç†æ‡‚å¾—ï¼Œä½†æ˜¯å¾ˆå°‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåˆšå·§è¿™ä¸ªé¡¹ç›®ä¸­æœ‰ç”¨åˆ°ï¼Œå°†AOPçš„ç†è§£ä»¥åŠä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠ ä»¥æ€»ç»“è®°å½•

ä½¿ç”¨åœºæ™¯
è®¾æƒ³ä¸€ä¸‹ï¼Œé¡¹ç›®å·²æ¥è¿‘å°¾å£°ï¼Œç»ç†è¯´ä¸ºäº†é¡¹ç›®éªŒæ”¶ï¼Œæ›´å¥½çš„ç›‘æ§ç¨‹åºè°ƒç”¨æ—¥å¿—ï¼Œéœ€è¦åœ¨æ¯ä¸ªæ–¹æ³•è°ƒç”¨å‰æˆ–è°ƒç”¨ååŠ ä¸Šæ—¥å¿—ï¼Œå¤©å•Šï¼Œè¿™æ˜¯å¤šå¤§çš„å·¥ä½œé‡ï¼Œé¡¹ç›®ä¸­è‡³å°‘æœ‰å‡ ç™¾ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬è¦åšè¿™ç§æ— è„‘çš„å·¥ä½œäº†å—ï¼Ÿ å¦‚æœä¸æ‡‚å¾—Spring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„é“ç†ï¼Œé‚£è¿™ä¸ªä½“åŠ›æ´»çœ‹æ¥æ˜¯è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ…¢æ…¢å‰–æSpring AOP çš„é“ç†.

Java åŠ¨æ€ä»£ç†
Java23ä¸­è®¾è®¡æ¨¡å¼ä¹‹ä¸€ä»£ç†æ¨¡å¼ï¼ŒSpring AOPå……åˆ†åˆ©ç”¨äº†Java åŠ¨æ€ä»£ç†åŠŸèƒ½æ¥å®ç°ï¼ˆå¯¹åŠ¨æ€ä»£ç†æœ‰æ‰€"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png">
          
        </a>
      
    
  </div>
</div>



        
      
    </div>
  </section>


      
      
          <div class="prev-next">
              
                  <section class="prev">
                      <span class="art-item-left">
                          <h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;ä¸Šä¸€é¡µ</h6>
                          <h4>
                              <a href="/p/jenkins-hybris-deploy.html" rel="prev" title="Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²Hybris">
                                
                                    Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²Hybris
                                
                              </a>
                          </h4>
                          
                              
                              <h6 class="tags">
                                  <a class="tag" href="/tags/Jenkins/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> Jenkins</a>
                              </h6>
                          
                      </span>
                  </section>
              
              
                  <section class="next">
                      <span class="art-item-right" aria-hidden="true">
                          <h6>ä¸‹ä¸€é¡µ&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6>
                          <h4>
                              <a href="/p/jenkins-config-mail.html" rel="prev" title="Jenkinså­¦ä¹ ä¹‹é‚®ç®±é…ç½®">
                                  
                                      Jenkinså­¦ä¹ ä¹‹é‚®ç®±é…ç½®
                                  
                              </a>
                          </h4>
                          
                              
                              <h6 class="tags">
                                  <a class="tag" href="/tags/Jenkins/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> Jenkins</a>
                              </h6>
                          
                      </span>
                  </section>
              
          </div>
      
    </section>
  </article>


  
    
  
    
      
        
          
  <section class='widget related_posts'>
    
<header class='pure'>
  <div><i class="fas fa-bookmark fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;ç›¸å…³æ–‡ç« </div>
  
</header>

    <div class="content pure">
      <ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/p/springmvc-response-status.html" title="Spring MVC ä¹‹ @ResponseStatus" rel="bookmark">Spring MVC ä¹‹ @ResponseStatus</a></h3></div></li></ul>
    </div>
  </section>


        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
  
    
  


  <!-- æ˜¾ç¤ºæ¨èæ–‡ç« å’Œè¯„è®º -->



  <article class="post white-box comments">
    <section class="article typo">
      <h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;è¯„è®º</h4>
      
      
      
        <section id="comments">
          <div id="gitalk-container"></div>
        </section>
      
      
    </section>
  </article>






<!-- æ ¹æ®é¡µé¢mathjaxå˜é‡å†³å®šæ˜¯å¦åŠ è½½MathJaxæ•°å­¦å…¬å¼js -->



  <script>
    window.subData = {
      title: 'Spring AOP',
      tools: true
    }
  </script>



  <script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script>
  <script>
      const btw = new BTWPlugin();
      btw.init({
          id: 'post',
          blogId: '10015-1569397635991-668',
          name: 'æ—¥æ‹±ä¸€å…µ',
          qrcode: 'https://rgyb.sunluomeng.top/%E5%85%AC%E4%BC%97%E8%B4%A6%E5%8F%B7%E6%96%87%E7%AB%A0/%E6%84%9F%E6%83%B3%E4%B8%8E%E6%80%BB%E7%BB%93/_image/2019-07-25/qrcode.jpg',
          keyword: 'tanrgyb',
      });
  </script>
  

</div>
<aside class='l_side'>
  
    
    
      
      
        
          
          
        
          
          
            
              <section class='widget author'>
  <div class='content pure'>
    
      <div class='avatar'>
        <img class='avatar' src='https://cdn.jsdelivr.net/gh/FraserYu/img-host/blog-imgqrcode.jpg'/>
      </div>
    
    
      <div class='text'>
        
        
        
          <p><span id="jinrishici-sentence">ä»æ¥æ²¡æœ‰çœŸæ­£çš„ç»å¢ƒï¼Œåªæœ‰å¿ƒçµçš„è¿·é€”</span></p>
          <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
        
      </div>
    
    
      <div class="social-wrapper">
        
          
            <a href="/atom.xml"
              class="social fas fa-rss flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:dayarch@126.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://github.com/FraserYu"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
  </div>
</section>

            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
            
              
  <section class='widget toc-wrapper'>
    
<header class='pure'>
  <div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;æœ¬æ–‡ç›®å½•</div>
  
    <!-- <div class='wrapper'><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div> -->
  
</header>

    <div class='content pure'>
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#å‰è¨€"><span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä½¿ç”¨åœºæ™¯"><span class="toc-text">ä½¿ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-åŠ¨æ€ä»£ç†"><span class="toc-text">Java åŠ¨æ€ä»£ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#InvocationHandler"><span class="toc-text">InvocationHandler</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Proxy"><span class="toc-text">Proxy</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä»£ç ç¤ºä¾‹"><span class="toc-text">ä»£ç ç¤ºä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å®šä¹‰Subject-æ¥å£ï¼š"><span class="toc-text">å®šä¹‰Subject æ¥å£ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®šä¹‰æ¥å£çœŸå®å®ç°ç±»"><span class="toc-text">å®šä¹‰æ¥å£çœŸå®å®ç°ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®šä¹‰åŠ¨æ€ä»£ç†ç±»ï¼Œå¹¶å®ç°InvocationHandler-æ¥å£"><span class="toc-text">å®šä¹‰åŠ¨æ€ä»£ç†ç±»ï¼Œå¹¶å®ç°InvocationHandler æ¥å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#çœ‹çœ‹å®¢æˆ·ç«¯ç±»çš„å®šä¹‰"><span class="toc-text">çœ‹çœ‹å®¢æˆ·ç«¯ç±»çš„å®šä¹‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ§åˆ¶å°çš„è¾“å‡ºç»“æœ"><span class="toc-text">æ§åˆ¶å°çš„è¾“å‡ºç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-AOP"><span class="toc-text">Spring AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#æœ¯è¯­è§£é‡Š"><span class="toc-text">æœ¯è¯­è§£é‡Š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Advice-é€šçŸ¥"><span class="toc-text">Advice é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Spring-XMLé…ç½®"><span class="toc-text">Spring XMLé…ç½®</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#é¡¹ç›®ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜"><span class="toc-text">é¡¹ç›®ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‚è€ƒé“¾æ¥"><span class="toc-text">å‚è€ƒé“¾æ¥</span></a></li></ol>
    </div>
  </section>


            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
  
    <div class="footer">
      <p><strong>If you can NOT explain it simply, you do NOT understand it well enough</strong></p>

    </div>
    <br>
  
  
    <div class="social-wrapper">
      
        
          <a href="/atom.xml"
            class="social fas fa-rss flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="mailto:dayarch@126.com"
            class="social fas fa-envelope flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://github.com/FraserYu"
            class="social fab fa-github flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
    </div>
  
  <br>
  Copyright <i class="far fa-copyright"></i>  2018-2019 
  <a href="https://www.itrhx.com/" target="_blank"> TanÎ¸'s Blog </a>
  &nbsp;&nbsp;|&nbsp;&nbsp;<img src="https://cdn.jsdelivr.net/gh/FraserYu/img-host/blog-imgicp.png">
  <a href="http://www.beian.miit.gov.cn/" target="_blank">è¾½ICPå¤‡19017651å·-1</a>

  &nbsp;&nbsp;|&nbsp;&nbsp;  
  
    &nbsp;<i class="fas fa-chart-area"></i>&nbsp;ç«™ç‚¹æ€»å­—æ•°:&nbsp;<span
        class="white-color">229.8k</span>&nbsp;å­—
    

  &nbsp;&nbsp;|&nbsp;&nbsp;  
  
    <span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
    <script>
        var now = new Date(); 
        function createtime() { 
            var grt= new Date("05/22/2019 09:09:06");//åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´
            now.setTime(now.getTime()+250); 
            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
            document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²è¿è¡Œ "+dnum+" å¤© "; 
            document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
        } 
    setInterval("createtime()",250);
    </script>
    
  &nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://dayarch.top/sitemap.xml" target="_blank">ç«™ç‚¹åœ°å›¾</a>
  &nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://tongji.baidu.com/web/welcome/ico?s=f553477a3dc5ab3837e9a4dead4e0bc7" target="_blank">ç«™é•¿ç»Ÿè®¡</a>
  
  




  <div>
    <!-- æœ¬ç«™ä½¿ç”¨
    <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" class="codename">Material X</a>
    ä½œä¸ºä¸»é¢˜ -->
    
      <!-- ï¼Œ -->
      <!-- æ€»è®¿é—®é‡ä¸º
      <span id="busuanzi_value_site_pv"><i class="fas fa-eyes" aria-hidden="true"></i></span>
      æ¬¡ -->
      <span id="busuanzi_container_site_pv">
        &nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;<span id="busuanzi_value_site_pv"
            class="white-color"></span>&nbsp;æ¬¡
    </span>
      <!-- &nbsp;&nbsp;|&nbsp;&nbsp; -->
      <!-- æ€»è®¿å®¢é‡ -->
      <!-- <span id="busuanzi_container_site_uv"><i class="fas fa-eyes" aria-hidden="true"></i></span> -->
      <span id="busuanzi_container_site_uv">
        |&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;<span id="busuanzi_value_site_uv"
            class="white-color"></span>&nbsp;äºº
    </span>
      <!-- äºº -->
    
    ã€‚
  </div>
  <div><p>åšå®¢å†…å®¹éµå¾ª <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0) åè®®</a></p>
</div>
  <!-- <div class="github-badge">
      <a style="color: #fff" rel="license" href="https://hexo.io/" target="_blank" title="ç”± Hexo å¼ºåŠ›é©±åŠ¨">
      <span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo</span></a>
    </div> -->
</footer>
<script>setLoadingBarProgress(80);</script>


<script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>
   

      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <!-- <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script> -->










  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <script type="text/javascript">
    var gitalk = new Gitalk({
      clientID: "57bd3ce366ba25a73a1a",
      clientSecret: "bab4a248180b9ac85b16fb44bf4ba171648f9cab",
      repo: "myBlogTalk",
      owner: "FraserYu",
      admin: "FraserYu",
      
        id: location.pathname,      // Ensure uniqueness and length less than 50
      
      distractionFreeMode: false  // Facebook-like distraction free mode
    });
    gitalk.render('gitalk-container');
  </script>





  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9/js/search.js"></script>




<!-- å¤åˆ¶ -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "å¤åˆ¶æˆåŠŸ";
  let COPY_FAILURE = "å¤åˆ¶å¤±è´¥";
  /*é¡µé¢è½½å…¥å®Œæˆåï¼Œåˆ›å»ºå¤åˆ¶æŒ‰é’®*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>å¤åˆ¶</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //æ‚¨å¯ä»¥åŠ å…¥æˆåŠŸæç¤º
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //æ‚¨å¯ä»¥åŠ å…¥å¤±è´¥æç¤º
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * å¼¹å‡ºå¼æç¤ºæ¡†ï¼Œé»˜è®¤1.5ç§’è‡ªåŠ¨æ¶ˆå¤±
   * @param message æç¤ºä¿¡æ¯
   * @param style æç¤ºæ ·å¼ï¼Œæœ‰alert-successã€alert-dangerã€alert-warningã€alert-info
   * @param time æ¶ˆå¤±æ—¶é—´
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // æˆåŠŸæç¤º
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // å¤±è´¥æç¤º
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // æé†’
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // ä¿¡æ¯æç¤º
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* å›¾ç‰‡é‡‡ç”¨æ‡’åŠ è½½å¤„ç†æ—¶,
       * ä¸€èˆ¬å›¾ç‰‡æ ‡ç­¾å†…ä¼šæœ‰ä¸ªå±æ€§åæ¥å­˜æ”¾å›¾ç‰‡çš„çœŸå®åœ°å€ï¼Œæ¯”å¦‚ data-original,
       * é‚£ä¹ˆæ­¤å¤„å°†åŸæœ¬çš„å±æ€§åsrcæ›¿æ¢ä¸ºå¯¹åº”å±æ€§ådata-original,
       * ä¿®æ”¹å¦‚ä¸‹
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>

<!-- é¼ æ ‡ç‚¹å‡»ç«èŠ±æ•ˆæœ -->
<!-- <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/fireworks.js"></script> -->

<!-- è…¾è®¯åˆ†æä»£ç  -->
<!-- <script type="text/javascript" src="http://tajs.qq.com/stats?sId=66485661" charset="UTF-8"></script> -->

  <!--åŠ¨æ€çº¿æ¡èƒŒæ™¯-->
<!-- <script type="text/javascript" color="100,220,220" opacity='0.8' zIndex="-2" count="400" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script> -->
<!-- æ ·å¼äºŒï¼ˆé£˜åŠ¨çš„å½©å¸¦ï¼‰ -->
<!-- <script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"></script> -->
<!-- æ ·å¼ä¸€ï¼ˆé¼ æ ‡ç‚¹å‡»æ›´æ¢æ ·å¼ï¼‰ -->
<!-- <script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"></script> -->
</body>
</html>
